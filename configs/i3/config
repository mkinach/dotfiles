# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

# source other i3 settings
include ../../tmp/tmp_i3


########################################################################
# SYSTEM SETTINGS & SHORTCUTS
########################################################################

# to find key names, run 'xev' and compare keycodes with 'xmodmap -pke'

# set script variables
set $mod Mod1
#set $browser --no-startup-id /usr/bin/firefox
set $browser --no-startup-id /snap/bin/firefox
set $terminal --no-startup-id /usr/bin/konsole
#set $inner_gaps 20
#set $outer_gaps 20
set $inner_gaps 0
set $outer_gaps 0

# kill focused window
bindsym $mod+q kill

# reload the configuration file
bindsym $mod+Shift+c reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# start dmenu (a program launcher)
# Note: i3-dmenu-desktop only displays applications w/ a .desktop file
#bindsym $mod+d exec dmenu_run
#bindsym $mod+d exec --no-startup-id i3-dmenu-desktop --dmenu="dmenu -fn 'monospace-12'"
bindsym $mod+d exec --no-startup-id j4-dmenu-desktop --dmenu="dmenu -fn 'monospace-12'"

# launch terminal emulator
bindsym $mod+Return exec --no-startup-id $terminal

# launch browser
bindsym $mod+w exec --no-startup-id $browser

# setup screen lock
bindsym $mod+Shift+minus exec --no-startup-id "i3lock -e -i .config/i3/lockscreen.png"

# logout
bindsym $mod+Shift+e exec --no-startup-id "i3-nagbar -t error -m 'Do you really want to logout?' -b 'Yes, logout' 'i3-msg exit'"

# reboot
bindsym $mod+Shift+b exec --no-startup-id "i3-nagbar -t error -m 'Do you really want to reboot?' -b 'Yes, reboot' 'reboot'"

# enable volume controls
bindsym XF86AudioRaiseVolume exec --no-startup-id "pactl set-sink-volume @DEFAULT_SINK@ +5% && play -q -n synth 0.05 sin 580 norm -10 2> /dev/null && dunstify -r 111 `pactl list sinks | grep 'Volume:' | awk '{print $5}' | head -n 1`"
bindsym Mod4+Right exec --no-startup-id "pactl set-sink-volume @DEFAULT_SINK@ +5% && play -q -n synth 0.05 sin 580 norm -10 2> /dev/null && dunstify -r 111 `pactl list sinks | grep 'Volume:' | awk '{print $5}' | head -n 1`"
bindsym XF86AudioLowerVolume exec --no-startup-id "pactl set-sink-volume @DEFAULT_SINK@ -5% && play -q -n synth 0.05 sin 580 norm -10 2> /dev/null && dunstify -r 111 `pactl list sinks | grep 'Volume:' | awk '{print $5}' | head -n 1`"
bindsym Mod4+Left exec --no-startup-id "pactl set-sink-volume @DEFAULT_SINK@ -5% && play -q -n synth 0.05 sin 580 norm -10 2> /dev/null && dunstify -r 111 `pactl list sinks | grep 'Volume:' | awk '{print $5}' | head -n 1`"
bindsym XF86AudioMute exec --no-startup-id amixer -D pulse set Master 1+ toggle

# enable screen brightness function keys
bindsym XF86MonBrightnessUp   exec --no-startup-id .config/i3/i3-backlight up
bindsym XF86MonBrightnessDown exec --no-startup-id .config/i3/i3-backlight down

# enable the laptop touchpad
exec_always --no-startup-id .config/i3/i3-touchpad

# enable suspend functionality
bindsym $mod+F1 exec --no-startup-id "systemctl suspend"

# set key delay
exec_always --no-startup-id xset r rate 125 35

# enable multimonitor output
exec_always --no-startup-id .config/i3/i3-monitors

# set up night mode
bindsym $mod+equal exec --no-startup-id redshift -O 5500 -b 0.85
bindsym $mod+Shift+plus exec --no-startup-id redshift -x

# set up dunst notification daemon on login
exec --no-startup-id dunst -config ~/.config/dunst/dunstrc

# launch KDE network manager
bindsym $mod+g exec --no-startup-id plasmawindowed org.kde.plasma.networkmanagement


########################################################################
# APPEARANCE
########################################################################

# move i3status config file to the place it needs to be
exec_always --no-startup-id "mkdir -p ~/.config/i3status;  cp ~/.config/i3/i3status.conf ~/.config/i3status/config"

# set desktop wallpaper
exec_always --no-startup-id feh --bg-scale .config/i3/wallpaper.jpg

# start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
	font pango:LiberationMono 12
	status_command i3status
  tray_output none
	position top
	mode dock
  modifier None
  colors {
    background #252525
    statusline #FFFFFF

#   <colorclass>        <border> <bg>    <text>
    focused_workspace   #4c7899  #6591a9 #ffffff
    urgent_workspace    #2f343a  #d14548 #ffffff
  }
}

# font for window titles, etc.
font pango:DejaVu Sans Mono 10

## set gap size
#gaps inner $inner_gaps

## increase/decrease gap size
#bindsym $mod+y gaps inner current plus 5
#bindsym $mod+Shift+y gaps inner current minus 5
#bindsym $mod+g gaps outer current plus 5
#bindsym $mod+Shift+g gaps outer current minus 5

## toggle gaps
#bindsym $mod+t gaps inner current set 0; gaps outer current set 0
#bindsym $mod+Shift+t gaps inner current set $inner_gaps; gaps outer current set $outer_gaps

# disable window titlebars and remove border by default (needed for i3-gaps)
for_window [class=".*"] border pixel 0

# place a border around focused window
# syntax is <colorclass> <border> <background> <text> <indicator> <child_border>
for_window [class="^.*"] border pixel 3
client.focused  #252525 #d2c5bc #252525 #252525 #d2c5bc

# hide borders on workspaces with only one visible window
hide_edge_borders smart


########################################################################
# LAYOUT & MOVEMENT
########################################################################

# split in horizontal orientation
bindsym $mod+z split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
#bindsym $mod+s layout stacking
#bindsym $mod+t layout tabbed
bindsym $mod+e layout toggle split

# resize windows
bindsym $mod+Shift+u exec --no-startup-id .config/i3/i3-resize left
bindsym $mod+Shift+p exec --no-startup-id .config/i3/i3-resize right
bindsym $mod+Shift+i exec --no-startup-id .config/i3/i3-resize down
bindsym $mod+Shift+o exec --no-startup-id .config/i3/i3-resize up

# switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

# switch between workspaces and monitors
bindsym $mod+Control+Right focus output right
bindsym $mod+Control+Left focus output left
bindsym $mod+Control+Down workspace next_on_output
bindsym $mod+Control+Up workspace prev_on_output
bindsym $mod+Control+Shift+Left move container to output left; focus output left
bindsym $mod+Control+Shift+Right move container to output right; focus output right
bindsym $mod+Control+Shift+Down move container to workspace next_on_output; workspace next_on_output
bindsym $mod+Control+Shift+Up move container to workspace prev_on_output; workspace prev_on_output

# same as above, except with Vim keys
bindsym $mod+Control+l focus output right
bindsym $mod+Control+h focus output left
bindsym $mod+Control+j workspace next_on_output
bindsym $mod+Control+k workspace prev_on_output
bindsym $mod+Control+Shift+h move container to output left; focus output left
bindsym $mod+Control+Shift+l move container to output right; focus output right
bindsym $mod+Control+Shift+j move container to workspace next_on_output; workspace next_on_output
bindsym $mod+Control+Shift+k move container to workspace prev_on_output; workspace prev_on_output

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
bindsym $mod+c focus child

# change focus within current screen
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# same as above, except with Vim keys
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# move focused window up/down/left/right within current screen
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# same as above, except with Vim keys
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# move container to brand new workspace on the same monitor
bindsym $mod+Escape exec --no-startup-id .config/i3/i3-new-workspace

# move all containers to brand new workspace on the same monitor
bindsym $mod+Shift+Escape exec --no-startup-id .config/i3/i3-new-workspace all

# rename workspace
bindsym $mod+r exec i3-input -F "rename workspace to "%s" -P 'New name for this workspace: "

# move container to scratchpad
bindsym $mod+Shift+s move scratchpad

# toggle scratchpad windows
bindsym $mod+s [class=.*] scratchpad show


########################################################################
# FLOATING WINDOW / PROGRAM-SPECIFIC SETTINGS
########################################################################

# toggle between tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# make a window float and make it "stick to the screen"
bindsym $mod+m floating toggle; sticky toggle

# use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# force certain programs to load as floatable
for_window [class="feh"] floating enable
for_window [class="spectacle"] floating enable

# always open programs in their own workspace (via xprop)
#assign [class="Gimp"] GIMP

# force titlebars on certain programs and no gaps
#for_window [class="Inkscape"] border normal

# autostart programs on i3 startup
#exec --no-startup-id klipper
